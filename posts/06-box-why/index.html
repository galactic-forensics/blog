<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="width=device-width,initial-scale=1.0" name=viewport><title>
         Simplify sharing your python application
        
    </title><meta content="Simplify sharing your python application" property=og:title><meta content="Thoughts and ideas..." property=og:description><meta content="Thoughts and ideas..." name=description><link href=https://galactic-forensics.github.io/blog/fonts.css rel=stylesheet><script src=https://galactic-forensics.github.io/blog/js/codeblock.js></script><script src=https://galactic-forensics.github.io/blog/js/toc.js></script><script src=https://galactic-forensics.github.io/blog/js/note.js></script><script>MathJax={tex:{inlineMath:[[`\$`,`\$`],[`\\\\(`,`\\\\)`]]}}</script><script async id=MathJax-script src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><link title="Galactic Forensics" href=https://galactic-forensics.github.io/blog/atom.xml rel=alternate type=application/atom+xml><link href=https://galactic-forensics.github.io/blog/theme/light.css rel=stylesheet><link href=https://galactic-forensics.github.io/blog/theme/dark.css id=darkModeStyle rel=stylesheet><script src=https://galactic-forensics.github.io/blog/js/themetoggle.js></script><script>setTheme(getSavedTheme())</script><link href=https://galactic-forensics.github.io/blog/main.css media=screen rel=stylesheet><link href=https://galactic-forensics.github.io/blog/override.css rel=stylesheet><body><div class=content><header><div class=main><a href=https://galactic-forensics.github.io/blog>Galactic Forensics</a><div class=socials><a class=social href=https://github.com/galactic-forensics/ rel=me> <img alt=github src=https://galactic-forensics.github.io/blog/social_icons/github.svg> </a></div></div><nav><a href=https://galactic-forensics.github.io/blog/posts style=margin-left:.5em>/posts</a><a href=https://galactic-forensics.github.io/blog/tags style=margin-left:.5em>/tags</a> |<a onclick="toggleTheme(); event.preventDefault();" href=# id=dark-mode-toggle> <img alt=Light id=sun-icon src=https://galactic-forensics.github.io/blog/feather/sun.svg style=filter:invert()> <img alt=Dark id=moon-icon src=https://galactic-forensics.github.io/blog/feather/moon.svg> </a><script>updateItemToggleTheme()</script></nav></header><main><article><div class=title><div class=page-header>Simplify sharing your python application<span class=primary-color style=font-size:1.6em>.</span></div><div class=meta>Posted on <time>2024-09-24</time><span class=tags-label> :: Tags:</span><span class=tags> <a class=post-tag href=https://galactic-forensics.github.io/blog/tags/coding/>coding</a>, <a class=post-tag href=https://galactic-forensics.github.io/blog/tags/python/>python</a>, <a class=post-tag href=https://galactic-forensics.github.io/blog/tags/box/>box</a> </span></div></div><div class=toc-container><h1 class=toc-title>Table of Contents</h1><ul class=toc-list><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#binary-applications>Binary applications</a><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#non-binary-standalone-applications>Non-binary standalone applications</a><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#why-box>Why box?</a> <ul><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#goals-and-non-goals-of-box>Goals and non-goals of box</a></li><ul><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#goals>Goals</a><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#non-goals>Non-goals</a><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#maybe-goals>Maybe-goals</a></ul><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#how-box-basically-works>How box basically works</a><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#philosophy>Philosophy</a><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#contribution>Contribution</a></ul><li><a href=https://galactic-forensics.github.io/blog/posts/06-box-why/#conclusions>Conclusions</a></ul></div><section class=body><p>The python ecosystem has changed a lot over the last year, especially with respect to tooling. The usage of <a href=https://rust-lang.org>Rust</a> has opened new, very fast, and by now very popular tools that aid in linting (<a href=https://astral.sh/ruff>ruff</a>) and package management (<a href=https://astral.sh/uv>uv</a>, <a href=https://rye.astral.sh>rye</a>). But what tools are there if you want to share your python applications with colleagues that do not use python?</p><span id=continue-reading></span><h1 id=binary-applications><a aria-label="Anchor link for: binary-applications" class=zola-anchor href=#binary-applications>Binary applications</a></h1><p>The current ecosystem contains multiple tools that allow you to turn your python script or program into an executable binary that can be shared with others. Some of these tools — by no means an exhaustive list — are:<ul><li><a href=https://www.pyinstaller.org/>PyInstaller</a>: Probably one of the most used tools out there. Creates the standalone application. Can be complicated to use and ensure that all dependencies are included.<li><a href=https://www.py2exe.org/>py2exe</a>: Another tool to create a standalone execution, only works for Windows.<li><a href=https://cx-freeze.readthedocs.io/en/latest/>cx_Freeze</a>: One more tool to create standalone executions. Also seems to require extensive configuration.<li><a href=https://pyoxidizer.readthedocs.io/en/latest/>PyOxidizer</a>: A very interesting approach to creating python executables, now <a href=https://gregoryszorc.com/blog/2024/03/17/my-shifting-open-source-priorities/>in a zombie state</a>/not maintained anymore.</ul><p>All of the above tools have two drawbacks: They are not straightforward to use in involved projects and need extensive include files to ensure all dependencies are satisfied in the resulting binary. Furthermore, these programs "only" provide an executable and do not by themselves produces an installer most users would be familiar with. The latter point seems to be especially interesting for graphical user interfaces (GUIs), which are the main (but not sole) focus of this article.<p>Two python GUI packaging tools are currently available, <a href=https://build-system.fman.io/>fbs</a> and <a href=https://ppg.neuri.ai/>ppg</a>. While I have used fbs extensively in the past, the latest version requires a paid license and doesn't seem to be maintained anymore. In fact, this project seems much more in a zombie state than PyOxidizer, as there is actually no communication from the maintainer about the status. However, updates are lacking and a issues seem to pile up in the project repository, making fbs an unattractive choice for new projects. On the other hand I recently discovered <a href=https://ppg.neuri.ai/>ppg</a>, which does basically the same as fbs. This tool seems be very actively maintained and is licenced under GPL-3.0.<p>So what do fbs and ppg actually provide? Behind the scenes, both tools use PyInstaller to create standalone executables. They both provide further installer creation solutions for your application and have been successfully used to package and release applications for multiple platforms in CI workflows, see, e.g., <a href=https://github.com/trappitsch/fbs-release-github-actions>fbs with GitHub Actions</a>. To use these tools you however need to follow a fairly strict folder structure and use PyQt or PySide for the GUI part of the project. Furthermore, the required folder structures do not necessarily align with also creating a python package for upload to <a href=https://pypi.org/>PyPI</a>.<p>If these limitations are not an issue for you and you would like to ship a binary, I recommend checking out ppg! If you are like me and would like an alternative method for packaging, read on!<h1 id=non-binary-standalone-applications><a aria-label="Anchor link for: non-binary-standalone-applications" class=zola-anchor href=#non-binary-standalone-applications>Non-binary standalone applications</a></h1><p>Recently, <a href=https://ofek.dev/pyapp>PyApp</a> came onto my radar. This tool also creates a binary executable of your python application or script, however, it works very differently under the hood.<p>In brief, PyApp uses <a href=https://rust-lang.org>Rust</a> to create a binary bundle of your python code. Upon first start, the program grabs/unpacks one of <a href=https://github.com/indygreg>Gregory Szorc's</a> <a href=https://github.com/indygreg/python-build-standalone>standalone python distributions</a>. It then installs the specified dependencies, including your package/script/..., and runs your application. From the second execution onwards and since the standalone is already unpacked and requirements installed, startup becomes very fast.<p>The huge difference to the other tools mentioned above is that your program gets a standalone python environment in which your source code is simply loaded as if the user would install your program into a virtual environment. However, no virtual environment creation skills are required and python is shipped along with your code. This makes PyApp very flexible and gives it, in my opinion, some huge advantages over the other tools mentioned above.<ul><li>You can create a distributable for a CLI tool, a GUI applications, a single script, and even for a jupyter notebook.<li>You don't need to worry about a specific folder structure. If your program has a <code>[project.scripts]</code> or <code>[project.gui-scripts]</code> entry in the <code>pyproject.toml</code> file and gets uploaded to PyPI, you can package and distribute it with PyApp for your friends without python, all other people can simply install it via, e.g., <code>pipx</code> or <code>uv</code>.<li>Your program ships with the source code in its own python environment. The user could go in and edit things if they wanted to, or at least have the possibility to do so!</ul><p>Of course, PyApp is not perfect and this approach has some drawbacks. In order to create a standalone executable, you need to have a working Rust installation. Furthermore, all specifications need to be set via environment variables before you build the executable. This can be tedious, especially, if you have to do it over and over again.<p><em>Note</em>: If you are using hatch for your python management, the latter described drawbacks are not necessarily an issue for you. You can use the <a href=https://hatch.pypa.io/1.9/plugins/builder/app/>application builder</a> to automatically create standalone executables for your python applications.<h1 id=why-box><a aria-label="Anchor link for: why-box" class=zola-anchor href=#why-box>Why <a href=https://github.com/trappitsch/box>box</a>?</a></h1><p>While I love the approach of PyApp to ship a standalone python distribution along with the source code, I found the packaging process fairly tedious and started wrapping all environment variables, etc., into a python script. Ultimately, I figured why not create a CLI tool that works similar to fbs and ppg but packages with PyApp instead of PyInstaller and stores the PyApp configuration to apply inside the project.<p>Below I break the idea of box out into goals, non-goals, and maybe-goals, since I think these might give the best and quickest overview of what box should and should not be.<h2 id=goals-and-non-goals-of-box><a aria-label="Anchor link for: goals-and-non-goals-of-box" class=zola-anchor href=#goals-and-non-goals-of-box>Goals and non-goals of box</a></h2><h3 id=goals><a aria-label="Anchor link for: goals" class=zola-anchor href=#goals>Goals</a></h3><ul><li>Initialize an existing project for future packaging with PyApp. This initialization should primarily be done by asking the user questions, i.e., guide the user through the process.<li>Provide an opinionated basic configuration, but allow the user to configure PyApp further by saving user-defined environment variables.<li>Provide a simple CLI interface that allows the creation of a standalone python program from your package using PyApp by simply typing <code>box package</code>.<li>Provide a CLI command to take an existing PyApp standalone and wrap it into an installer.<li>Work on Linux, Windows, and MacOS.<li>Work with GUI and CLI programs.<li>Provide some useful/opinionated standards for storing assets, e.g., icons etc., that are either based on recommended packaging practices and/or do not interfere with these practises.<li>Run in CI workflows in order to, e.g., create installers for multiple OSes upon release of a package.<li>Have good <a href=https://box.rtfd.io>documentation</a><li>Always be open source and freely available.</ul><h3 id=non-goals><a aria-label="Anchor link for: non-goals" class=zola-anchor href=#non-goals>Non-goals</a></h3><ul><li>Be universally configurable towards any possible configuration that PyApp supports.<li>Become the de-facto packaging tool for standalone python projects.<li>Allow for company specific branding, scaling, etc. (see below)</ul><h3 id=maybe-goals><a aria-label="Anchor link for: maybe-goals" class=zola-anchor href=#maybe-goals>Maybe-goals</a></h3><ul><li>Be able to create a completely self-contained standalone executable without the need of an internet connection (or maybe as <a href=https://github.com/ofek/pyapp/issues/117#issuecomment-2110405309>part of PyApp</a>)<li>Be compatible with outdated / non-standard package environment in order to be broadly applicable (<a href=https://github.com/trappitsch/box/discussions/56>see this discussion</a>)</ul><h2 id=how-box-basically-works><a aria-label="Anchor link for: how-box-basically-works" class=zola-anchor href=#how-box-basically-works>How box basically works</a></h2><p>In its current form, box can initialize a package using the <code>box init</code> command. The project must already contain a <code>pyproject.toml</code> file that includes the basic package data. Box adds a <code>[tool.box]</code> section to the <code>pyproject.toml</code> file where it stores its own parameters on how to package a specific package.<p>Packaging then takes place by typing <code>box package</code>. For this to succeed, Cargo must be installed. After successful packaging, the <code>target/</code> directory contains a standalone executable of the program.<p>Installers are finally created with <code>box installer</code>. Depending on the operating system the user is on, this will require additional dependencies and result in different operating system specific installer files.<p>For details on installation and usage, please check out the <a href=https://box.rtfd.io>documentation</a>. Note that box is under active development and might still rapidly change. Breaking changes are clearly labeled in every new release (if they occur).<h2 id=philosophy><a aria-label="Anchor link for: philosophy" class=zola-anchor href=#philosophy>Philosophy</a></h2><p>One of the non-goals states that allowing for company specific branding, scaling, etc. is a non-goal for box. This does not mean that it will not be possible in the future, just that is currently not an outcome I anticipate. The (non-) goals are mostly what I currently think might happen, but should be considered as a very flexible and fluid development plan that I have in mind. Once box is good at its goals, who knows where this might go.<p>Box is first and foremost created by a scientist (i.e., myself) with other scientists in mind. This means that I want to distribute some software to my colleagues and the software should run, they should be able to tinker with it, but it might not necessarily look perfect on the first trial. Remember: <strong>Perfect is the enemy of good enough and functional!</strong> I want box to be my personal solution to this problem and hope that other people might find it useful as well.<h2 id=contribution><a aria-label="Anchor link for: contribution" class=zola-anchor href=#contribution>Contribution</a></h2><p>If you would like to contribute, one of the best ways currently is to test box on your projects and report back. I am very open to feedback and suggestions on how to improve box. Also: If you would like additional features, or if you would like to contribute an enhancement, please reach out on <a href=https://github.com/trappitsch/box/issues>GitHub</a> and join the discussion there!<h1 id=conclusions><a aria-label="Anchor link for: conclusions" class=zola-anchor href=#conclusions>Conclusions</a></h1><p>This post outlines some of my thoughts and ideas behind starting box. However, these ideas are constantly developing and changing as I work on the project. I am planning several follow up blog posts on more specific topics over the next months in order to dive into more detail on certain aspects and thoughts behind box. While this might serve as an explanation on why certain features exist the way they do, this hopefully also helps me with thinking things through in detail and with becoming aware of potential pitfalls, etc.<p>If you would like to comment on this post, box, etc., please feel free to get in <a href=https://galactic-forensics.space/contact/>touch by e-mail</a> or by starting a <a href=https://github.com/trappitsch/box/discussions>discussion</a> on the box GitHub page.</section></article></main></div>